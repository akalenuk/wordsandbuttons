<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Vandermonde matrix</title>
	<meta name="description" content="Vandermonde matrix">
	<meta name="keywords" content="mathematics, programming, show-and-tell">
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
	<style>
body {
	margin: 0 0 0 0;
}

a {
	text-decoration: none;
}

h1 {
	padding-top: 36pt;
	font-size: 24pt;
	width: 600pt;
	text-align: left;
}

h2 {
	padding-top: 20pt;
	font-size: 20pt;
	width: 555pt;
	text-align: left;
}

p {
	line-height: 1.42;
	font-size: 16pt;
	width: 505pt;
	text-align: left;
}


button {
	width: 248pt;
	height: 24pt;
	margin-top:8pt;
	margin-bottom:4pt;
	font-size: 16pt;
}

form {
	margin: 0 0 0 0;
	padding-top: 12pt;
	padding-left: 12pt;
	padding-right: 12pt;
	padding-bottom: 12pt;
	font-size: 16pt;
	text-align: left;
	width: 505pt;
	background-color: #eeee99;
	color: #000;
}

.formula {
	font-family: sans-serif;
	font-size: 15pt;
	font-style: italic;
	text-align: center;
	line-height: 1.8;
	padding-top: 6pt;
	padding-bottom: 6pt;
}

select {
	width: 64pt;
	height: 24pt;
	font-size: 15pt;
	text-align: left;
}

table {
	border-width: 0pt;
	padding-top: 12pt;
	padding-left: 12pt;
	padding-right: 12pt;
	padding-bottom: 12pt;
	font-size: 16pt;
	font-family: monospace;
	text-align: center;
}

table td {
	padding: 0pt 4pt 0pt 4pt;
	margin: 0 0 0 0;
	border-width: 0pt;
	width: 36pt;
}

.open_matrix {
	width: 2pt;
	border-bottom: 2px solid black;
	border-top: 2px solid black;
	border-left: 2px solid black;
}

.close_matrix {
	width:2pt;
	border-bottom: 2px solid black;
	border-top: 2px solid black;
	border-right: 2px solid black;
}
	</style>
	<script language="JavaScript">
function change_the_formula() {
	const xs = Number(document.getElementById("x_degree").value);
	const ys = Number(document.getElementById("y_degree").value);
	const zs = Number(document.getElementById("z_degree").value);
	const all_points = (xs + 1) * (ys + 1) * (zs + 1);

	var coefficients = "";
	for(var i = 0; i < all_points; ++i) {
		if(i != 0) 
			coefficients += "<br>";
		coefficients += "a<sub>" + String(i+1) + "</sub>";
	}

	var results = "";
	for(var i = 0; i < all_points; ++i) {
		if(i != 0) 
			results += "<br>";
		results += "x'<sub>" + String(i+1) + "</sub>";
	}

	var nomes = [];
	for(var x = xs; x >= 0; --x) {
		for(var y = ys; y >= 0; --y) {
			for(var z = zs; z >= 0; --z) {
				if(x == 0 && y == 0 && z == 0)
					nomes.push("1");
				else {
					var variables = [];
					if(x == 1)
						variables.push("x%");
					else if(x > 1)
						variables.push("x%<sup>" + Number(x) + "</sup>");
					if(y == 1)
						variables.push("y%");
					else if(y > 1)
						variables.push("y%<sup>" + Number(y) + "</sup>");
					if(z == 1)
						variables.push("z%");
					else if(z > 1)
						variables.push("z%<sup>" + Number(z) + "</sup>");
					nomes.push(variables.join("&hairsp;"));
				}
			}
		}
	}

	var a_content = "";
	for(var i = 0; i < nomes.length; ++ i) {
		a_content += "<td>";
		for(var j = 0; j < all_points; ++j) {
			if(j != 0) 
				a_content += "<br>";
			a_content += "<nobr>";
			a_content += nomes[i]
						.replace('%', "<sub>" + String(j + 1) + "</sub>")
						.replace('%', "<sub>" + String(j + 1) + "</sub>")
						.replace('%', "<sub>" + String(j + 1) + "</sub>");
			a_content += "</nobr>";
		}
		a_content += "</td>";
	}

	var matrix_content = "</td>\
	<tr>\
	<td class='open_matrix'>\
	</td> " + a_content + " \
	<td class='close_matrix'></td>\
	<td></td>\
	<td class='open_matrix'></td>\
	<td>" + coefficients + "</td>\
	<td class='close_matrix'></td>\
	<td> = </td>\
	<td class='open_matrix'></td>\
	<td>" + results + "</td>\
	<td class='close_matrix'></td>\
	</tr>";

	document.getElementById("matrix").innerHTML = matrix_content;
}
	</script>
</head>
<body>
	<center>
	<h1>
Vandermonde matrix
	</h1>
	<form>
	<label for="x_degree">x-degree: </label><select id="x_degree">
	<option value="0">0</option>
	<option value="1">1</option>
	<option value="2" selected="true">2</option>
	<option value="3">3</option>
	<option value="4">4</option>
	<option value="5">5</option>
	</select>

	<label for="y_degree">y-degree: </label><select id="y_degree">
	<option value="0" selected="true">0</option>
	<option value="1">1</option>
	<option value="2">2</option>
	<option value="3">3</option>
	<option value="4">4</option>
	<option value="5">5</option>
	</select>

	<label for="z_degree">z-degree: </label><select id="z_degree">
	<option value="0" selected="true">0</option>
	<option value="1">1</option>
	<option value="2">2</option>
	<option value="3">3</option>
	<option value="4">4</option>
	<option value="5">5</option>
	</select>
	<br>
	<center>
	<button type="button" onclick="change_the_formula()">Compose the matrix</button>
	</center>
	</form>
	<table class="formula" id="matrix">
	<tr>
	<td class="open_matrix">
	</td>
	<td style="width:24pt;">A<br>D<br>a</td>
	<td style="width:24pt;">B<br>E<br>b</td>
	<td style="width:24pt;">C<br>F<br>c</td>
	<td class="close_matrix"></td>
	<td></td>
	<td class="open_matrix"></td>
	<td>x<br>y<br>w</td>
	<td class="close_matrix"></td>
	<td> = </td>
	<td class="open_matrix"></td>
	<td>Ax + By + Cw<br>Dx + Ey + Fw<br>ax + by + cw</td>
	<td class="close_matrix"></td>
	</tr>
	</table>

	<script language="JavaScript">
	change_the_formula();
	</script>

	</center>
</body>
</html>
