<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Fortran is still a thing</title>
	<meta name="description" content="A short essay about Fortran in the modern world.">
	<meta name="keywords" content="programming">
	<link rel="shortcut icon" type="image/x-icon" href="favicon.svg" />
	<style>
body{
	margin: 0 0 0 0;
}

a{
	text-decoration: none;
}

h1 {
	padding-top: 36pt;
	font-size: 24pt;
	width: 600pt;
	text-align: left;
}

h2 {
	padding-top: 20pt;
	font-size: 20pt;
	width: 555pt;
	text-align: left;
}

p {
	line-height: 1.42;
	font-size: 16pt;
	width: 505pt;
	text-align: left;
}

pre {
	margin: 0 0 0 0;
	padding-top: 12pt;
	padding-left: 12pt;
	padding-right: 12pt;
	padding-bottom: 12pt;
	font-size: 12pt;
	text-align: left;
	width: 300pt;
}

table {
	border-width: 0pt;
}

td {
	vertical-align: top;
	padding: 6pt 12pt 6pt 12pt;
	font-size: 16pt;
	border: 1px solid black;
	width: 505pt;
}

button{
	width: 248pt;
	height: 42pt;
	margin-left:4pt;
	margin-right:4pt;
	font-size: 16pt;
}

u {
	border-bottom: 1px dotted #000;
	text-decoration: none;
	cursor: pointer;
}

.comment {
	font-size: 12pt;
	text-align:center;
	font-family: sans-serif;
	padding-bottom: 24pt;
}
	</style>
	<script language="JavaScript">
function show(n){
	document.getElementById("shown_" + n).style.display = "none";
	document.getElementById("hidden_" + n).style.display = "inline";
}
	</script>
  </head>
  <body>
	<center>
	<h1>
<Span id="index_fortran">Fortran</Span> is still a thing
	</h1>
	<p>
In 2017 NASA announced a code optimization competition only to cancel it shortly after. The rules were simple. There is a Navier-Stokes equations solver used to model aerodynamics, and basically, the one who makes it run the fastest on the Pleiades supercomputer wins the first prize.
	</p>
	<p>
There were a few caveats though. The applicant had to be a US citizen at least 18 years of age, and the code to optimize had to be in Fortran.
	</p>
	<p>
Fortran is not the most popular language in the programmer’s community. Many believe that it’s complex and outdated. Programming in Fortran is perceived like riding a horse-driven carriage to work. Fortran? Isn’t it something that Amish do?
	</p>
	<p>
Many thought that the competition will never start due to the lack of applicants. In fact, it was cancelled <a href="https://www.herox.com/HPFCC/updates">for the exact opposite reason</a>.
	</p>
	<p>
Quoting NASA's Press Release: <i>&laquo;The extremely high number of applicants, more than 1,800, coupled with the difficulty in satisfying the extensive vetting requirements to control the public distribution of the software made it unlikely we would achieve the challenge’s original objectives in a timely manner.&raquo;</i>
	</p>
<img style="width: 505pt;" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/Pleiades_supercomputer.jpg/1024px-Pleiades_supercomputer.jpg">
	<p class="comment">
Marco Librero, NASA Ames Research Center [Public domain], <br>via Wikimedia Commons
	</p>
	<p>
Fortran is not, of course, outdated, and it’s not at all complex. In fact, it has grown into these myths exactly because it is that good at what it does. It was designed to make number-crunching easy and efficient. Its users are scientists and engineers; not computer scientists and software engineers, but the real ones. And when engineers have a tool for the problem, they solve the problem with the tool. The problem comes first, not the code.
	</p>
	<p>
That’s how the complexity myth has started. Most of the code you see in Fortran is indeed complex. But this is because:
	</p>
	<p>
a) the problem behind it is complex;
	</p>
	<p>
b) the code was written by domain specialists and not programmers.
	</p>
	<p>
Fortran is simple enough for domain specialist to write bad code and achieve good results with it.
	</p>
	<p>
And as for the outdatedness, the current Fortran standard is Fortran 2008. The next one is 2018 and it is expected to arrive anytime soon. Fortran is constantly being modernized one little step after another. The biggest holding factor here is its mission. It must remain simple for real engineers.
	</p>
	<p>
However, the modern Fortran already has modules, objects, generics and built-in support for parallel computing. Foot shooting area grows steadily to meet the fiats of the modern world.
	</p>
	<p>
It still excels in the good old structured programming. It has features that mainstream C-like languages lack. For instance, it can exit or continue a loop from a nested loop.
	</p>
	<table><tr>
	<td>
	<pre>
<span style="color: #376d03">rows</span>: <span style="color: #814586">do</span> <span style="color: #855525">i</span><a style="cursor: help" title="The first one is the number to start, the second &ndash; to finish. In Fortran elements are accesible via 1..n indexing, not 0..n-1 as in C. The loop goes through all the 10 numbers from 1 to 10."> = 1, 10</a>
  <span style="color: #315420">columns</span>: <span style="color: #814586">do</span> <span style="color: #5c6f56">j</span><a style="cursor: help" title="The first one is the number to start, the second &ndash; to finish. In Fortran elements are accesible via 1..n indexing, not 0..n-1 as in C. The loop goes through all the 10 numbers from 1 to 10."> = 1, 10</a>
    <span style="color: #4c4182">if</span> (<span style="color: #48460b">a</span>(<span style="color: #855525">i</span>, <span style="color: #5c6f56">j</span>) == 0.) <span style="color: #4b7b38">exit</span> <span style="color: #376d03">rows</span>
    ...
  <span style="color: #407431">enddo</span> <span style="color: #315420">columns</span>
<span style="color: #407431">enddo</span> <span style="color: #376d03">rows</span>
    </pre>
	</td></tr></table>
	<p>
If has <i>case</i> statement with ranges.
	</p>
	<table><tr>
	<td>
	<pre>
<span style="color: #172977">integer</span> :: <span style="color: #46334e">temp_c</span>

<span style="color: #006600">! Temperature in Celsius!</span>
<span style="color: #301760">select</span> <span style="color: #733d72">case</span> (<span style="color: #46334e">temp_c</span>)
<span style="color: #733d72">case</span> (:-1)
  <span style="color: #13771c">write</span> <a style="cursor: help" title="The tuple denotes two things: the unit number, like the file handle in C; and the format specifier. Asterisks mean that they are both default.">(*,*)</a> 'Below freezing'
<span style="color: #733d72">case</span> (0)
  <span style="color: #13771c">write</span> <a style="cursor: help" title="The tuple denotes two things: the unit number, like the file handle in C; and the format specifier. Asterisks mean that they are both default.">(*,*)</a> 'Freezing point'
<span style="color: #733d72">case</span> (1:20)
  <span style="color: #13771c">write</span> <a style="cursor: help" title="The tuple denotes two things: the unit number, like the file handle in C; and the format specifier. Asterisks mean that they are both default.">(*,*)</a> 'It is cool'
<span style="color: #733d72">case</span> (21:33)
  <span style="color: #13771c">write</span> <a style="cursor: help" title="The tuple denotes two things: the unit number, like the file handle in C; and the format specifier. Asterisks mean that they are both default.">(*,*)</a> 'It is warm'
<span style="color: #733d72">case</span> (34:)
 <span style="color: #13771c">write</span> <a style="cursor: help" title="The tuple denotes two things: the unit number, like the file handle in C; and the format specifier. Asterisks mean that they are both default.">(*,*)</a> 'This is Texas!'
<span style="color: #050c47">end</span> <span style="color: #301760">select</span>
    </pre>
	</td></tr></table>
	<p>
And it can use an array of indexes to access another array.
	</p>
	<table><tr>
	<td>
	<pre>
<span style="color: #6a1365">real</span>, <span style="color: #81307d">dimension</span><a style="cursor: help" title="This is the array dimensions. One dimensional array is just a special case. In Fortran multidimensional arrays in arbitrary ranges are first class citizens. (0:4, 2:6, 5) is a valid 5x5x5 array.">(5) </a>:: <span style="color: #48460b">a</span> = [ 2, 4, 6, 8, 10 ]
<span style="color: #172977">integer</span>, <span style="color: #81307d">dimension</span><a style="cursor: help" title="This is the array dimensions. One dimensional array is just a special case. In Fortran multidimensional arrays in arbitrary ranges are first class citizens. (0:4, 2:6, 5) is a valid 5x5x5 array.">(2) </a>:: <span style="color: #855525">i</span> = [ 2, 4 ]

<span style="color: #022a40">print</span><a style="cursor: help" title="This is the format specifier. Asterisk means 'default'."> *, </a><span style="color: #48460b">a</span>(<span style="color: #855525">i</span>)   <span style="color: #006600">! prints 4. 8.</span>
    </pre>
	</td></tr></table>
	<p>
There is a brief <a href="https://www.tacc.utexas.edu/documents/13601/162125/fortran_class.pdf">introduction into modern Fortran</a> by Lars Koesterke. If you think Fortran hasn’t changed since the 60s, please look through it. You might get surprised.
	</p>
	<p>
So Fortran is not complex and it’s not outdated. Now how come it went underground in the modern world?
	</p>
	<p>
The answer here is actually the same as for “where do old programmers go?” They mostly stay in business, but according to the <a href="http://blog.cleancoder.com/uncle-bob/2014/06/20/MyLawn.html">Martin’s lawn</a>, as the number of programmers doubles every five years, they get vastly outnumbered by the younger folks. They just dissolve in a mass. But this is endemic for software industry only. Fortran users are mostly the real engineers and their numbers don’t grow exponentially. There is more or less the same amount of Fortran users, old and young, as it was some 30 or 40 years ago when Fortran was at its peak.
	</p>
	<p>
In a way, it has been at its peak all that time. It’s the world around that has gone crazy. Languages come and go, paradigms ripe and rot, the whole software business is a part of fashion industry now. But when you want your plane to fly, you still need to do the maths with your trusty Fortran. That’s the beauty of the things that work — they don’t have to change much.
	</p>


	<table class="footer" style="width: 555pt; padding: 64pt 0pt 32pt 0pt; background-color: transparent; font-family: sans-serif; font-size: 16pt; font-style: normal;">
	<tr>
	<td class="footer" style="vertical-align: middle; text-align: left; width: 64px; padding: 0; margin: 0; border: 0;">
		<a href="all_programming.html">#programming</a>
	</td>
	<td class="footer" style="vertical-align: middle; text-align: left; width: 200pt; padding: 0; margin: 0; border: 0;">
		&nbsp;&larr; there's more.
	</td>
	<td class="footer" style="vertical-align: middle; text-align: right; width: 300pt; padding: 0; margin: 0; border: 0;">
		+
		<a href="https://wordsandbuttons.online/SYTYKC.pdf">So You Think You Know C e-book</a><br>
		+
		<a href="https://github.com/akalenuk/wordsandbuttons">Github</a> &
		<a href="https://wordsandbuttons.online/rss"><span style="letter-spacing: 1pt;">RSS</span></a>
	</td>
	</tr>
	</table>
	</center>
</body>
</html>
