<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=0.84">
	<title>So you think you know C?</title>
	<meta name="description" content="It's a C test. If you think you know C, take this test. It only has 5 questions.">
	<meta name="keywords" content="programming, quizzes">
	<link rel="shortcut icon" type="image/x-icon" href="favicon.svg" />
	<style>
body{
	margin: 0 0 0 0;
}

a {
	text-decoration: none;
}

a:link, a:visited {
	color: blue;
}

h1 {
	padding-top: 36pt;
	font-size: 24pt;
	width: 600pt;
	text-align: left;
}

h2 {
	padding-top: 20pt;
	font-size: 20pt;
	width: 600pt;
	text-align: left;
}

p {
	line-height: 1.42;
	font-size: 16pt;
	width: 600pt;
	text-align: left;
}

.result {
	font-size: 14pt;
	text-align:center;
	font-family: sans-serif;
	padding-bottom: 24pt;
}

table.footer {
	padding: 64pt 0pt 32pt 0pt;
	background-color: transparent;
	width: 600pt;
}

td.footer {
	font-family: sans-serif;
	font-size: 16pt;
	font-style: normal;
	padding: 0;
	margin: 0;
	border: 0;
}

pre {
	margin: 0 0 0 0;
	padding-top: 12pt;
	padding-left: 12pt;
	padding-right: 12pt;
	padding-bottom: 12pt;
	font-size: 16pt;
	text-align: left;
	font-weight: bold;
	width: 600pt;
}

.code {
	background-color: #a8c1e6;
	color: #000;
}

.code_piece {
	background-color: #a8c1e6;
	color: #000;
	font-family: monospace;
	padding-left: 2pt;
	padding-right: 2pt;
}

form {
	margin: 0 0 0 0;
	padding-top: 12pt;
	padding-left: 12pt;
	padding-right: 12pt;
	padding-bottom: 12pt;
	font-size: 16pt;
	text-align: left;
	width: 600pt;
	background-color: #dbd5a0;
	color: #000;
}

table {
	font-size: 16pt;
	width: 600pt;
	text-align: center;
	background-color: #dbd5a0;
	color: #000;
}

td {
	padding: 6pt;
	border: 1px solid black;
}

label {
	line-height: 1.5;
}

button{
	width: 300pt;
	height: 84pt;
	margin-left:4pt;
	margin-right:4pt;
	font-size: 24pt;
}

	</style>
	<script language="JavaScript">
function show_hidden(){
	var hidden = document.getElementById("hidden");
	var to_hide = document.getElementById("to_hide");
	var show_button = document.getElementById("show_button");
	hidden.style.display = "block";
	show_button.style.display = "none";
	to_hide.style.display = "none";
	var score = 0;
	if(document.getElementById("a1d").checked)
		score += 1;
	if(document.getElementById("a2d").checked)
		score += 1;
	if(document.getElementById("a3d").checked)
		score += 1;
	if(document.getElementById("a4d").checked)
		score += 1;
	if(document.getElementById("a5d").checked)
		score += 1;
	if(score == 0)
		document.getElementById("score_0").style.display = "block";
	if(score == 1)
		document.getElementById("score_1").style.display = "block";
	if(score == 2)
		document.getElementById("score_2").style.display = "block";
	if(score == 3)
		document.getElementById("score_3").style.display = "block";
	if(score == 4)
		document.getElementById("score_4").style.display = "block";
	if(score == 5)
		document.getElementById("score_5").style.display = "block";

	if(document.getElementById("a1a").checked)
		document.getElementById("t1a").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a1b").checked)
		document.getElementById("t1b").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a1c").checked)
		document.getElementById("t1c").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a1d").checked)
		document.getElementById("t1d").innerHTML = "<span style='color:green;'>&#10004;</span>";

	if(document.getElementById("a2a").checked)
		document.getElementById("t2a").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a2b").checked)
		document.getElementById("t2b").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a2c").checked)
		document.getElementById("t2c").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a2d").checked)
		document.getElementById("t2d").innerHTML = "<span style='color:green;'>&#10004;</span>";

	if(document.getElementById("a3a").checked)
		document.getElementById("t3a").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a3b").checked)
		document.getElementById("t3b").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a3c").checked)
		document.getElementById("t3c").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a3d").checked)
		document.getElementById("t3d").innerHTML = "<span style='color:green;'>&#10004;</span>";

	if(document.getElementById("a4a").checked)
		document.getElementById("t4a").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a4b").checked)
		document.getElementById("t4b").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a4c").checked)
		document.getElementById("t4c").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a4d").checked)
		document.getElementById("t4d").innerHTML = "<span style='color:green;'>&#10004;</span>";

	if(document.getElementById("a5a").checked)
		document.getElementById("t5a").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a5b").checked)
		document.getElementById("t5b").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a5c").checked)
		document.getElementById("t5c").innerHTML = "<span style='color:red;'>&#10006;</span>";
	if(document.getElementById("a5d").checked)
		document.getElementById("t5d").innerHTML = "<span style='color:green;'>&#10004;</span>";
}
	</script>
</head>
<body>
	<center>
	<p style="width: 600pt; padding: 36pt 0pt 64pt 0pt;">This is <a href="index.html">Words and Buttons Online</a> — a collection of&nbsp;interactive <a href="all_tutorials.html">#tutorials</a>, <a href="all_demos.html">#demos<a/>, and <a href="all_quizzes.html">#quizzes</a> about <a href="all_mathematics.html">#mathematics</a>, <a href="all_algorithms.html">#algorithms</a> and <a href="all_programming.html">#programming</a>.</p>
	<h1>
So you think you know <Span id="index_c">C</Span>?
	</h1>
	<p>
A lot of programmers claim they know C. Well, it has the most famous syntax, it has been there for <span id='c_years_old'>44</span> years, and it’s not cluttered with obscure features. It’s easy!
	</p>
	<script language="JavaScript">
		document.getElementById("c_years_old").innerHTML = new Date().getFullYear() - 1972;
	</script>
	<p>
I mean, it’s easy to <em>claim</em> that you know C. You probably learned it in college or on the go, you probably had some experience with it, you probably think that you know it through and through because there’s not much to know. Well, there is. C is not that simple.
	</p>
	<p>
If you think it is — take this test. It only has 5 questions. Every question is basically the same: what the return value would be? And each question has a choice of four answers, of which one and only one is right.
	</p>

	<h2>
1
	</h2>
	<pre class="code">
struct S {
  int i;
  char c;
} s;

int main(void) {
  return sizeof(*(&s));
}
	</pre>
	<form onsubmit="return false;">
<input type="radio" name="q1" id="a1a" value="A"> <label for="a1a">A. 4</label><br>
<input type="radio" name="q1" id="a1b" value="B"> <label for="a1b">B. 5</label><br>
<input type="radio" name="q1" id="a1c" value="C"> <label for="a1c">C. 8</label><br>
<input type="radio" name="q1" id="a1d" value="D"> <label for="a1d">D. I don't know.</label><br>
	</form>

	<h2>
2
	</h2>
	<pre class="code">
int main(void) {
  char a = 0;
  short int b = 0;
  return sizeof(b) == sizeof(a+b);
}
	</pre>
	<form onsubmit="return false;">
<input type="radio" name="q2" id="a2a" value="A"> <label for="a2a">A. 0</label><br>
<input type="radio" name="q2" id="a2b" value="B"> <label for="a2b">B. 1</label><br>
<input type="radio" name="q2" id="a2c" value="C"> <label for="a2c">C. 2</label><br>
<input type="radio" name="q2" id="a2d" value="D"> <label for="a2d">D. I don't know.</label><br>
	</form>

	<h2>
3
	</h2>
	<pre class="code">
int main(void) {
  char a = ' ' * 13;
  return a;
}
	</pre>
	<form onsubmit="return false;">
<input type="radio" name="q3" id="a3a" value="A"> <label for="a3a">A. 416</label><br>
<input type="radio" name="q3" id="a3b" value="B"> <label for="a3b">B. 160</label><br>
<input type="radio" name="q3" id="a3c" value="C"> <label for="a3c">C. -96</label><br>
<input type="radio" name="q3" id="a3d" value="D"> <label for="a3d">D. I don't know.</label><br>
	</form>

	<h2>
4
	</h2>
	<pre class="code">
int main(void) {
  int i = 16;
  return (((((i >= i) << i) >> i) <= i));
}
	</pre>
	<form onsubmit="return false;">
<input type="radio" name="q4" id="a4a" value="A"> <label for="a4a">A. 0</label><br>
<input type="radio" name="q4" id="a4b" value="B"> <label for="a4b">B. 1</label><br>
<input type="radio" name="q4" id="a4c" value="C"> <label for="a4c">C. 16</label><br>
<input type="radio" name="q4" id="a4d" value="D"> <label for="a4d">D. I don't know.</label><br>
	</form>

	<h2>
5
	</h2>
	<pre class="code">
int main(void) {
  int i = 0;
  return i++ + ++i;
}
	</pre>
	<form>
<input type="radio" name="q5" id="a5a" value="A"> <label for="a5a">A. 1</label><br>
<input type="radio" name="q5" id="a5b" value="B"> <label for="a5b">B. 2</label><br>
<input type="radio" name="q5" id="a5c" value="C"> <label for="a5c">C. 3</label><br>
<input type="radio" name="q5" id="a5d" value="D"> <label for="a5d">D. I don't know.</label><br>
	</form>
	<p>
That's it.
	</p>
	<div id="to_hide">
	<p>
To unscreen the right answers and to see your score, press the button below.
	</p>
	</div>

	<button type="button" id="show_button" onclick="show_hidden()"><nobr>See the score</nobr></button>

	<div id="hidden" style="display:none;">
		<p>
So, the right answers are:
		</p>
		<table>
		<tr>
		<td></td><td>A</td><td>B</td><td>C</td><td>D</td>
		</tr><tr>
		<td>1</td><td id="t1a"></td><td id="t1b"></td><td id="t1c"></td><td id="t1d"><span style='color:gray;'>&#10004;</span></td>
		</tr><tr>
		<td>2</td><td id="t2a"></td><td id="t2b"></td><td id="t2c"></td><td id="t2d"><span style='color:gray;'>&#10004;</span></td>
		</tr><tr>
		<td>3</td><td id="t3a"></td><td id="t3b"></td><td id="t3c"></td><td id="t3d"><span style='color:gray;'>&#10004;</span></td>
		</tr><tr>
		<td>4</td><td id="t4a"></td><td id="t4b"></td><td id="t4c"></td><td id="t4d"><span style='color:gray;'>&#10004;</span></td>
		</tr><tr>
		<td>5</td><td id="t5a"></td><td id="t5b"></td><td id="t5c"></td><td id="t5d"><span style='color:gray;'>&#10004;</span></td>
		</tr>
		</table>
		<p class="result">
		<span id="score_0" style="display:none;">
You scored 0 points, sorry. You don't know what you don't know.
		</span>
		<span id="score_1" style="display:none;">
You scored 1 point, which is not so bad. You know that there is something you don't know.
		</span>
		<span id="score_2" style="display:none;">
You scored 2 points, which is not so bad. You know that there are things you don't know.
		</span>
		<span id="score_3" style="display:none;">
You scored 3 points, which is rather well. You know that you don't know.
		</span>
		<span id="score_4" style="display:none;">
You scored 4 points, which is excellent. You know what you don't know.
		</span>
		<span id="score_5" style="display:none;">
You scored 5 points, congratulations! You know exactly what you don't know.
		</span>
		</p>
		<p>
And yes, the right answer to every question is “I don’t know”.
		</p>
		<p>
Let’s untangle them one by one now.
		</p>
		<p>
<strong>First one</strong> is actually about structure padding. C compiler knows that storing unaligned data in RAM may be costly, so it pads your data for you. If you have 5 bytes of data in a structure, it will probably make it 8. Or 16. Or 6. Or whatever it wants. There are extensions like GCC attributes aligned and packed that let you get some control over this process, but they are non-standard. C itself does not define padding attributes, so the right answer is: “I don’t know”.
		</p>
		<p>
The <strong>second one</strong> is about integer promotion. It’s only reasonable that the type of <span class="code_piece">short int</span> and an expression with the largest integer being <span class="code_piece">short int</span> would be the same. But the reasonable doesn’t mean right for C. There is the rule that every integer expression gets promoted to <span class="code_piece">int</span>. Actually, it’s much more complicated than that. Take a peek at the standard, you’ll enjoy it.
		</p>
		<p>
But even so, we don’t compare types, we compare sizes. And the standard only guarantees that the range of <span class="code_piece">short int</span> should not exceed <span class="code_piece">int</span>. They ranges may be equal, and the size of the <i>short int</i> may even be grates than the size of <i>int</i> because of the padding bits. So the right answer is: “I don’t know”.
		</p>
		<p>
The <strong>third one</strong> is all about dark corners. Starting from that neither integer overflows, nor <span class="code_piece">char</span> type sign are defined by the standard. First one is undefined behavior, the second is implementation specific. But even more, the size of the <i>char</i> type itself is not specified in bits either. Historically, there were platforms where it was 6 bits (remember trigraphs?), and there are platforms today where all five integer types are 32 bits. Even the value of the space character is implementation defined. Without all these details specified, every speculation about the result is invalid, so the answer is: “I don’t know”.
		</p>
		<p>
The <strong>fourth one</strong> looks tricky, but it’s not that hard in retrospective since you already know that <span class="code_piece">int</span> size is not directly specified in the standard. It can easily be 16 bits, then the very first operation will cause the over-shift and that’s plain undefined behavior. It’s not C fault, on some platforms, it is even undefined in assembly, so the compiler simply can’t give you valid guarantees without eating up a lot of performance.
		</p>
		<p>
So once again “I don’t know” is the right answer.
		</p>
		<p>
And the <strong>last one</strong> is classic. The result depends on undefined behavior: <a href="https://gynvael.coldwind.pl/?id=372">whether the post-increment is deferred and which argument is fetched first</a>. It might work just like you expect on one platform and might fail easily on the other. Usually, it just evaluates to <i>2</i>, so you get used to it until one day it doesn't. That’s the problem with undefined things. When you meet one, the right answer is always: “I don’t know”.
		</p>
		<h2>
P. S.
		</h2>
		<p>
And at this point, I only have to apologize. The test is clearly provocative and may even be a little offensive. I’m sorry if it causes any aggravation.
		</p>
		<p>
The thing is, I learned C in roughly 1998, and for the whole 15 years thought that I’m good at it. It was my language of choice in college, and I’ve done some successful projects in C on my first full-time job, and even then, when I was mostly working with C++, I thought of it as over-bloated C.
		</p>
		<p>
The pivoting moment came in 2013, when I’ve got myself involved with some safety-critical PLC programming. It was a research project in nuclear power plant automation, where absolutely no underspecification was tolerable. I had to learn that, while I did know a lot about C programming, the absolute majority of what I knew was false. And I had to learn it the hard way too.
		</p>
		<p>
Eventually, I had to learn to rely on the standard instead of folklore; to trust measurements and not presumptions; to take “things that simply work” skeptically, — I had to learn an engineering attitude. This is what matters the most, not some particular WAT anecdotes.
		</p>
		<p>
I only hope this little test would help someone like myself from the past to learn this attitude in some 15 minutes and not 15 years.
		</p>
	</div>


	<table class="footer" style="width: 600pt; padding: 64pt 0pt 32pt 0pt; background-color: transparent; font-family: sans-serif; font-size: 16pt; font-style: normal;">
	<tr>
	<td class="footer" style="vertical-align: middle; text-align: left; width: 64px; padding: 0; margin: 0; border: 0;">
		<a href="index.html">Index</a>
		<a href="all_programming.html">#programming</a> <a href="all_quizzes.html">#quizzes</a>
	</td>
	<td class="footer" style="vertical-align: middle; text-align: left; width: 200pt; padding: 0; margin: 0; border: 0;">
		&nbsp;&larr; there's more.
	</td>
	<td class="footer" style="vertical-align: middle; text-align: right; width: 300pt; padding: 0; margin: 0; border: 0;">
			+
		<a href="https://wordsandbuttons.online/SYTYKC.pdf">Free book</a><br>
			+
		<a href="https://www.manning.com/books/geometry-for-programmers">Paid book</a><br>
			+
		<a href="https://github.com/akalenuk/wordsandbuttons">Github</a> &

		<a href="https://wordsandbuttons.online/rss"><span style="letter-spacing: 1pt;">RSS</span></a>
	</td>
	</tr>
	</table>
	</center>
</body>
</html>
